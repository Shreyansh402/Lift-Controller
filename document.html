<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>ELL 365 project</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="style.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">ELL 365 project</h1>
<p class="date">Date of submission: 2024-04-15</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#team-member-details" id="toc-team-member-details">Team
Member details</a></li>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#materials-required" id="toc-materials-required">Materials
Required</a></li>
<li><a href="#specifications-and-assumptions"
id="toc-specifications-and-assumptions">Specifications and
Assumptions</a></li>
<li><a href="#finite-state-machine-fsm-details"
id="toc-finite-state-machine-fsm-details">Finite State Machine (FSM)
details</a>
<ul>
<li><a href="#motivation-explanation"
id="toc-motivation-explanation">Motivation / Explanation</a></li>
<li><a href="#transition-table" id="toc-transition-table">Transition
table</a></li>
<li><a href="#transition-diagram" id="toc-transition-diagram">Transition
Diagram</a></li>
</ul></li>
<li><a href="#description-and-working"
id="toc-description-and-working">Description and working</a>
<ul>
<li><a href="#main-components" id="toc-main-components">Main
components</a></li>
<li><a href="#key-features" id="toc-key-features">Key Features</a></li>
<li><a href="#working" id="toc-working">Working</a></li>
</ul></li>
<li><a href="#simulation" id="toc-simulation">Simulation </a>
<ul>
<li><a href="#wokwi-link" id="toc-wokwi-link">Wokwi link</a></li>
<li><a href="#code" id="toc-code">Code</a>
<ul>
<li><a href="#floor-version" id="toc-floor-version">3 floor
version</a></li>
<li><a href="#floor-version-1" id="toc-floor-version-1">10 floor
version</a></li>
</ul></li>
<li><a href="#circuit" id="toc-circuit">Circuit</a></li>
<li><a href="#screenshots-during-operation"
id="toc-screenshots-during-operation">Screenshots during
operation</a></li>
</ul></li>
<li><a href="#possible-improvements"
id="toc-possible-improvements">Possible improvements</a></li>
<li><a href="#conclusion" id="toc-conclusion">Conclusion</a></li>
<li><a href="#section" id="toc-section"></a></li>
</ul>
</nav>
<div class="titlepage">
<div class="center">
<p>Department of Electrical Engineering<br />
Indian Institute of Technology Delhi<br />
<img src="img/logo.png" alt="image" /></p>
</div>
<div class="center">
<p><strong>ELL 365 Project<br />
</strong> Lift controller Group 3</p>
</div>
</div>
<h1 id="team-member-details">Team Member details</h1>
<div class="center">
<table>
<caption>Software Team</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Name</th>
<th style="text-align: center;">Entry No</th>
<th style="text-align: center;">Email</th>
<th style="text-align: center;">Role</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Chaxu Garg</td>
<td style="text-align: center;">2020MT10795</td>
<td style="text-align: center;"><a
href="mailto:mt1200795@iitd.ac.in">mt1200795@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Akanksh Saxena</td>
<td style="text-align: center;">2021ME10986</td>
<td style="text-align: center;"><a
href="mailto:me1210986@iitd.ac.in">me1210986@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Arpit Goyal</td>
<td style="text-align: center;">2020MT60870</td>
<td style="text-align: center;"><a
href="mailto:mt6200870@iitd.ac.in">mt6200870@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Aditya Arya</td>
<td style="text-align: center;">2021MT60958</td>
<td style="text-align: center;"><a
href="mailto:mt6210958@iitd.ac.in">mt6210958@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Prisha Jain</td>
<td style="text-align: center;">2020MT60886</td>
<td style="text-align: center;"><a
href="mailto:mt6200886@iitd.ac.in">mt6200886@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Yash Pravin Shirke</td>
<td style="text-align: center;">2020MT60986</td>
<td style="text-align: center;"><a
href="mailto:mt6200986@iitd.ac.in">mt6200986@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Shreyansh Jain</td>
<td style="text-align: center;">2021MT10230</td>
<td style="text-align: center;"><a
href="mailto:mt1210230@iitd.ac.in">mt1210230@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Sunpreet Singh</td>
<td style="text-align: center;">2020MT10857</td>
<td style="text-align: center;"><a
href="mailto:mt1200857@iitd.ac.in">mt1200857@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Priyanshu Sharma</td>
<td style="text-align: center;">2021MT10678</td>
<td style="text-align: center;"><a
href="mailto:mt1210678@iitd.ac.in">mt1210678@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Agniv Nath</td>
<td style="text-align: center;">2021EE30727</td>
<td style="text-align: center;"><a
href="mailto:ee3210727@iitd.ac.in">ee3210727@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Aditya Singal</td>
<td style="text-align: center;">2021EE31046</td>
<td style="text-align: center;"><a
href="mailto:ee3211046@iitd.ac.in">ee3211046@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Aryan Kumar</td>
<td style="text-align: center;">2020MT60871</td>
<td style="text-align: center;"><a
href="mailto:mt6200871@iitd.ac.in">mt6200871@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Harshit Sachdeva</td>
<td style="text-align: center;">2021ee30705</td>
<td style="text-align: center;"><a
href="mailto:ee3210705@iitd.ac.in">ee3210705@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Yashwant Singh Kaurav</td>
<td style="text-align: center;">2020MT10864</td>
<td style="text-align: center;"><a
href="mailto:mt1200864@iitd.ac.in">mt1200864@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Ayushmaan Pandey</td>
<td style="text-align: center;">2021EE30709</td>
<td style="text-align: center;"><a
href="mailto:ee3210709@iitd.ac.in">ee3210709@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Amitesh Gupta</td>
<td style="text-align: center;">2021EE30724</td>
<td style="text-align: center;"><a
href="mailto:ee3210724@iitd.ac.in">ee3210724@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Aditya Bhalotia</td>
<td style="text-align: center;">2021EE30698</td>
<td style="text-align: center;"><a
href="mailto:ee3210698@iitd.ac.in">ee3210698@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Abhay Yadav</td>
<td style="text-align: center;">2021EE10151</td>
<td style="text-align: center;"><a
href="mailto:ee1210151@iitd.ac.in">ee1210151@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Aman Yadav</td>
<td style="text-align: center;">2021EE30734</td>
<td style="text-align: center;"><a
href="mailto:ee3210734@iitd.ac.in">ee3210734@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Siddharth</td>
<td style="text-align: center;">2022MT62028</td>
<td style="text-align: center;"><a
href="mailto:mt6222028@iitd.ac.in">mt6222028@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Dipshika Deepak Karmalkar</td>
<td style="text-align: center;">2021ee30753</td>
<td style="text-align: center;"><a
href="mailto:ee3210753@iitd.ac.in">ee3210753@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Ayush Kumar</td>
<td style="text-align: center;">2021EE10150</td>
<td style="text-align: center;"><a
href="mailto:ee1210150@iitd.ac.in">ee1210150@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Neeraj Sharma</td>
<td style="text-align: center;">2020MT60885</td>
<td style="text-align: center;"><a
href="mailto:mt6200885@iitd.ac.in">mt6200885@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Palle Sathvika</td>
<td style="text-align: center;">2021MT10928</td>
<td style="text-align: center;"><a
href="mailto:mt1210928@iitd.ac.in">mt1210928@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Mridul Jagrat</td>
<td style="text-align: center;">2021EE30182</td>
<td style="text-align: center;"><a
href="mailto:ee3210182@iitd.ac.in">ee3210182@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Mamidisetti Amrutha</td>
<td style="text-align: center;">2021EE30738</td>
<td style="text-align: center;"><a
href="mailto:ee3210738@iitd.ac.in">ee3210738@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Ayush Sharma</td>
<td style="text-align: center;">2021MT10244</td>
<td style="text-align: center;"><a
href="mailto:mt1210244@iitd.ac.in">mt1210244@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Satyam Sagar</td>
<td style="text-align: center;">2020EE10551</td>
<td style="text-align: center;"><a
href="mailto:ee1200551@iitd.ac.in">ee1200551@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Volla Jayathi</td>
<td style="text-align: center;">2020MT60897</td>
<td style="text-align: center;"><a
href="mailto:mt6200897@iitd.ac.in">mt6200897@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Kothinti Anirudh Krishna Reddy</td>
<td style="text-align: center;">2020MT10813</td>
<td style="text-align: center;"><a
href="mailto:mt1200813@iitd.ac.in">mt1200813@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Shourya Vir Jain</td>
<td style="text-align: center;">2022EE31798</td>
<td style="text-align: center;"><a
href="mailto:ee3221798@iitd.ac.in">ee3221798@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Arjun Patidar</td>
<td style="text-align: center;">2020EE10474</td>
<td style="text-align: center;"><a
href="mailto:ee1200474@iitd.ac.in">ee1200474@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Prateek Chandel</td>
<td style="text-align: center;">2020ME10952</td>
<td style="text-align: center;"><a
href="mailto:me1200952@iitd.ac.in">me1200952@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
<tr class="even">
<td style="text-align: center;">Roshan Kumar</td>
<td style="text-align: center;">2021EE30181</td>
<td style="text-align: center;"><a
href="mailto:">ee3210181@iitd.ac.in</a></td>
<td style="text-align: center;">Software</td>
</tr>
</tbody>
</table>
</div>
<div class="center">
<table>
<caption>Hardware Team</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Name</th>
<th style="text-align: center;">Entry No</th>
<th style="text-align: center;">Email</th>
<th style="text-align: center;">Role</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Aman Gupta</td>
<td style="text-align: center;">2022TT12151</td>
<td style="text-align: center;"><a
href="mailto:tt1222151@iitd.ac.in">tt1222151@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="even">
<td style="text-align: center;">Nandini Singh</td>
<td style="text-align: center;">2021EE30747</td>
<td style="text-align: center;"><a
href="mailto:ee3210747@iitd.ac.in">ee3210747@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Mihit Puneet Sharma</td>
<td style="text-align: center;">2021EE30707</td>
<td style="text-align: center;"><a
href="mailto:ee3210707@iitd.ac.in">ee3210707@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="even">
<td style="text-align: center;">Manasi Korade</td>
<td style="text-align: center;">2021PH10836</td>
<td style="text-align: center;"><a
href="mailto:ph1210836@iitd.ac.in">ph1210836@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Bhukya Jaya Teja Naik</td>
<td style="text-align: center;">2020MT60874</td>
<td style="text-align: center;"><a
href="mailto:mt6200874@iitd.ac.in">mt6200874@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="even">
<td style="text-align: center;">Bhaira Ram Gat</td>
<td style="text-align: center;">2021EE30726</td>
<td style="text-align: center;"><a
href="mailto:ee3210726@iitd.ac.in">ee3210726@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Ayush Singh</td>
<td style="text-align: center;">2021ee30180</td>
<td style="text-align: center;"><a
href="mailto:ee3210180@iitd.ac.in">ee3210180@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="even">
<td style="text-align: center;">Shreyash Bhilwade</td>
<td style="text-align: center;">2021EE30178</td>
<td style="text-align: center;"><a
href="mailto:ee3210178@iitd.ac.in">ee3210178@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Nandini Choudhary</td>
<td style="text-align: center;">2021EE30716</td>
<td style="text-align: center;"><a
href="mailto:ee3210716@iitd.ac.in">ee3210716@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="even">
<td style="text-align: center;">Rishika Goel</td>
<td style="text-align: center;">2021EE30725</td>
<td style="text-align: center;"><a
href="mailto:ee3210725@iitd.ac.in">ee3210725@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Deepanshu Kumar</td>
<td style="text-align: center;">2021EE10696</td>
<td style="text-align: center;"><a
href="mailto:ee1210696@iitd.ac.in">ee1210696@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="even">
<td style="text-align: center;">Diksha</td>
<td style="text-align: center;">2021EE30717</td>
<td style="text-align: center;"><a
href="mailto:ee3210717@iitd.ac.in">ee3210717@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Ishan</td>
<td style="text-align: center;">2020EE10498</td>
<td style="text-align: center;"><a
href="mailto:ee1200498@iitd.ac.in">ee1200498@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
<tr class="even">
<td style="text-align: center;">Ashesh Mishra</td>
<td style="text-align: center;">2022EE11155</td>
<td style="text-align: center;"><a
href="mailto:ee1221155@iitd.ac.in">ee1221155@iitd.ac.in</a></td>
<td style="text-align: center;">Hardware</td>
</tr>
</tbody>
</table>
</div>
<h1 id="introduction">Introduction</h1>
<p>The Lift Controller Project aims to design and implement an efficient
and reliable system for controlling the operation of elevators in a
building. Elevators, or lifts, are essential components of modern
infrastructure, facilitating transportation within multi-story
buildings. The primary objective of this project is to develop a
controller that optimizes elevator movement.<br />
</p>
<p><br />
<strong>1. Control Algorithm:</strong> The heart of the lift controller
system lies in its control algorithm. This algorithm determines the
optimal movement of elevator in response to user requests, considering
factors such as passenger load, destination floors.<br />
<strong>2. User Interface:</strong> A user-friendly interface allows
passengers to input their desired destination floors and interact with
the elevator system. This interface may include buttons inside the
elevator cabin, as well as external call buttons located on each
floor.<br />
<strong>3. Safety Features:</strong> Safety is paramount in lift
controller design. The system incorporates safety mechanisms to prevent
accidents, such as emergency stop buttons.<br />
<br />
<span><strong>Project Goals:</strong></span><br />
<strong>1. Reliability:</strong> The system must operate reliably under
varying loads and conditions, ensuring smooth and uninterrupted vertical
transportation within the building.<br />
<strong>2. Scalability:</strong> The lift controller should be scalable
to accommodate buildings of different sizes and configurations, from
small residential buildings to large commercial complexes.<br />
<strong>3. Safety:</strong> Safety is a top priority, and the system
must comply with industry standards and regulations to ensure the
well-being of passengers and personnel.<br />
<strong>4. Accessibility:</strong> The user interface should be
accessible to passengers of all ages and abilities, with clear signage
and intuitive controls.<br />
<br />
By achieving these goals, the Lift Controller Project aims to enhance
the efficiency, reliability, and safety of elevator systems, ultimately
improving the user experience and optimizing vertical transportation in
buildings.<br />
</p>
<h1 id="materials-required">Materials Required</h1>
<p><strong>In the simulation</strong><br />
</p>
<ul>
<li><p><span data-acronym-label="ESP 32"
data-acronym-form="singular+short">ESP 32</span> controller</p></li>
<li><p>LEDs</p></li>
<li><p>Resistors</p></li>
<li><p>Switches</p></li>
<li><p>Keypad</p></li>
<li><p><span data-acronym-label="LCD"
data-acronym-form="singular+short">LCD</span> Screen</p></li>
</ul>
<p><strong>In the real circuit</strong><br />
</p>
<ul>
<li><p>Motor</p></li>
<li><p><span data-acronym-label="Motor Driver Circuits"
data-acronym-form="singular+short">Motor Driver Circuits</span></p></li>
<li><p>Siren/ Alarm (for emergency call feature)</p></li>
</ul>
<h1 id="specifications-and-assumptions">Specifications and
Assumptions</h1>
<ul>
<li><p><span> <strong>Initial Conditions:</strong></span><br />
The lift commences its operation from the <strong>5th</strong>
floor.<br />
</p></li>
<li><p><span> <strong>Timing Parameters:</strong></span><br />
</p>
<ul>
<li><p><strong>Time to Move Between Floors:</strong> The lift takes
<strong>10 seconds</strong> to travel between adjacent floors.</p></li>
<li><p><strong>Time to Open Doors:</strong> Upon reaching a floor, the
doors open within <strong>2 seconds.</strong></p></li>
<li><p><strong>Time of Stay at a Floor:</strong> After the doors open,
the lift remains stationary for <strong>5 seconds</strong> to allow
passengers to enter or exit.</p></li>
<li><p><strong>Time to Close Doors:</strong> Subsequently, the doors
close within <strong>2 seconds</strong> to prepare for
departure.</p></li>
</ul></li>
<li><p><span><strong>Number of Floors:</strong></span><br />
The building comprises <strong>10 floors</strong>, ranging from the
ground floor (0) to the top floor (9).</p></li>
</ul>
<h1 id="finite-state-machine-fsm-details">Finite State Machine (FSM)
details</h1>
<h2 id="motivation-explanation">Motivation / Explanation</h2>
<p>Our <span data-acronym-label="FSM"
data-acronym-form="singular+short">FSM</span> has three states which are
mapped to three floors. The mapping is as follows :</p>
<div class="center">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">State</th>
<th style="text-align: center;">Floor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td style="text-align: center;">q<span
class="math inline">\(_1\)</span></td>
<td style="text-align: center;">2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">q<span
class="math inline">\(_2\)</span></td>
<td style="text-align: center;">3</td>
</tr>
</tbody>
</table>
</div>
<p>The mapping from inputs to buttons are as follows :</p>
<div class="center">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Input</th>
<th style="text-align: center;">Button pressed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">00</td>
<td style="text-align: center;">Floor 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">01</td>
<td style="text-align: center;">Floor 2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">10</td>
<td style="text-align: center;">Floor 3</td>
</tr>
<tr class="even">
<td style="text-align: center;">11</td>
<td style="text-align: center;">Emergency stop</td>
</tr>
</tbody>
</table>
</div>
<p>Note that the following actions are not represented in the FSM :</p>
<ul>
<li><p>Fast open / close : Does not involve change of state</p></li>
<li><p>Emergency call : Does not involve state change</p></li>
<li><p>Any floor button inputs received during transition from one floor
to another: The inputs are not ignored and the controller acts on them
but since they affect state change some time later and not immediately
so they are not shown in the FSM</p></li>
</ul>
<h2 id="transition-table">Transition table</h2>
<div class="center">
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><strong>Current State</strong></th>
<th style="text-align: center;"><strong>Input</strong></th>
<th style="text-align: center;"><strong>Next State</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
<td style="text-align: center;">00</td>
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
<td style="text-align: center;">01</td>
<td style="text-align: center;">q<span
class="math inline">\(_1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">q<span
class="math inline">\(_2\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">q<span
class="math inline">\(_1\)</span></td>
<td style="text-align: center;">00</td>
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">q<span
class="math inline">\(_1\)</span></td>
<td style="text-align: center;">01</td>
<td style="text-align: center;">q<span
class="math inline">\(_1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">q<span
class="math inline">\(_1\)</span></td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">q<span
class="math inline">\(_2\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">q<span
class="math inline">\(_1\)</span></td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">q<span
class="math inline">\(_2\)</span></td>
<td style="text-align: center;">00</td>
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">q<span
class="math inline">\(_2\)</span></td>
<td style="text-align: center;">01</td>
<td style="text-align: center;">q<span
class="math inline">\(_1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">q<span
class="math inline">\(_2\)</span></td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">q<span
class="math inline">\(_2\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">q<span
class="math inline">\(_2\)</span></td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">q<span
class="math inline">\(_0\)</span></td>
</tr>
</tbody>
</table>
</div>
<h2 id="transition-diagram">Transition Diagram</h2>
<div class="center">

</div>
<h1 id="description-and-working">Description and working</h1>
<h2 id="main-components">Main components</h2>
<ul>
<li><p>ESP32 controller</p></li>
<li><p>LED light that flashes when the Emergency Call is
pressed</p></li>
<li><p>Keypad with buttons for entering floor number. This would be
installed inside the lift.</p></li>
<li><p>LCD screen for display</p></li>
</ul>
<h2 id="key-features">Key Features</h2>
<ul>
<li><p>The user presses button on keypad to go to corresponding floor.
For purpose of presentation and analysis it is mapped for 3 floors, but
it can be mapped for upto 10 floors.</p></li>
<li><p>Fast open / close : User can press the B button to close the lift
doors quickly. Similarly he can press the A button to open/reopen the
doors. <span id="item:fast_open_close"
label="item:fast_open_close"></span></p></li>
<li><p>Emergency call : User can press this button to send a distress
signal. In our code it is implemented as a flashing LED. In real life it
is usually a siren outside the lift.</p></li>
<li><p>Scalability : By changing the parameters defined in lines 15 to
20 of the code , we can change the number of floors, delay between
floors, door opening delay, door closing delay and the amount of time we
stay on the floor. The simulation assumes we start the lift at floor 5
but this can be changes at line 24.</p></li>
<li><p><span data-acronym-label="Micropython"
data-acronym-form="singular+short">Micropython</span> language is used
and the assumed parameters are specified at the top of the code</p></li>
</ul>
<h2 id="working">Working</h2>
<ul>
<li><p>The lift opens initially at the specified floor (for eg 5) and
waits for next input.</p></li>
<li><p>When it receives input to go to a floor (say floor 1) then it
moves to that floor and the LCD shows all the floors in between as well
(Moving to floor 4 for eg)</p></li>
<li><p>Lift reaches the destination and opens and then closes, with the
specified delay.</p></li>
<li><p>If the a button for another floor is pressed during transit, then
one of two occurs:</p>
<ul>
<li><p>If the new inout floor lies on the current path , (i.e floor 5 to
1 path) then the lift stops at that floor as well.</p></li>
<li><p>Else if it is in the other direction (say floor 6), then the lift
stores the new floor in a list and it first goes to floor 1 and then
visits floor 6.</p></li>
<li><p>Emergency stop : This button immediately interrupts the lift
operation and takes the lift to floor 1.</p></li>
<li><p>The other three buttons : Emergency Call, Fast open, and Fast
close work as described in Section <a href="#item:fast_open_close"
data-reference-type="ref"
data-reference="item:fast_open_close">[item:fast_open_close]</a>.</p></li>
</ul></li>
</ul>
<h1 id="simulation">Simulation </h1>
<h2 id="wokwi-link">Wokwi link</h2>
<p><a href="https://wokwi.com/projects/395127693038423041"
class="uri">https://wokwi.com/projects/395127693038423041</a></p>
<h2 id="code">Code</h2>
<p>Note : Both the below versions differ only at line 15, attesting to
the scalability of the code.</p>
<h3 id="floor-version">3 floor version</h3>
<div class="sourceCode" id="cb1" style="CStyle"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> time <span class="im">import</span> sleep_ms </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> machine <span class="im">import</span> Pin, SoftI2C</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> i2c_lcd <span class="im">import</span> I2cLcd </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> utime <span class="im">import</span> sleep</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">######## Definitions ########</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define LCD params</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>AddressOfLcd <span class="op">=</span> <span class="bn">0x27</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>i2c <span class="op">=</span> SoftI2C(scl<span class="op">=</span>Pin(<span class="dv">22</span>), sda<span class="op">=</span>Pin(<span class="dv">21</span>), freq<span class="op">=</span><span class="dv">400000</span>) <span class="co"># connect scl to GPIO 22, sda to GPIO 21</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>lcd <span class="op">=</span> I2cLcd(i2c, AddressOfLcd, <span class="dv">4</span>, <span class="dv">20</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>led <span class="op">=</span> Pin(<span class="dv">15</span>, Pin.OUT)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">#Assumptions</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>No_of_floors <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>floor_floor_delay <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>floor_opening_delay <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>floor_closing_delay <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>floor_stay_delay <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>floors <span class="op">=</span> []</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, No_of_floors,<span class="dv">1</span>):</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    floors.append(<span class="bu">str</span>(i))</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(floors)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>initial_pos <span class="op">=</span> <span class="dv">5</span> </span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Define keypad layout</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co"># O -- Fast Open</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co"># C -- Fast Close</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="co"># A -- Alarm</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="co"># E -- Emergency Stop</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"># * &amp;&amp; / -- Undefined states</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 0,1,2,3,4,5, 6,7,8,9 -- Floor States</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>keypad <span class="op">=</span> [</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;1&#39;</span>, <span class="st">&#39;2&#39;</span>, <span class="st">&#39;3&#39;</span>, <span class="st">&#39;O&#39;</span> ],</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;4&#39;</span>, <span class="st">&#39;5&#39;</span>, <span class="st">&#39;6&#39;</span>, <span class="st">&#39;C&#39;</span> ],</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;7&#39;</span>, <span class="st">&#39;8&#39;</span>, <span class="st">&#39;9&#39;</span>, <span class="st">&#39;*&#39;</span> ],</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;A&#39;</span>, <span class="st">&#39;0&#39;</span>, <span class="st">&#39;E&#39;</span>, <span class="st">&#39;/&#39;</span> ]</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the row and column pins</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>row_pins <span class="op">=</span> [Pin(<span class="dv">13</span>, Pin.OUT), Pin(<span class="dv">12</span>, Pin.OUT), Pin(<span class="dv">14</span>, Pin.OUT), Pin(<span class="dv">27</span>, Pin.OUT)]</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>col_pins <span class="op">=</span> [Pin(<span class="dv">26</span>, Pin.IN, Pin.PULL_UP), Pin(<span class="dv">25</span>, Pin.IN, Pin.PULL_UP), Pin(<span class="dv">33</span>, Pin.IN, Pin.PULL_UP), Pin(<span class="dv">32</span>, Pin.IN, Pin.PULL_UP)]</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the row pins to HIGH</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row_pin <span class="kw">in</span> row_pins:</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    row_pin.value(<span class="dv">1</span>)</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the col pins to LOW</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col_pin <span class="kw">in</span> col_pins:</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>    col_pin.value(<span class="dv">0</span>)</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Variables to store user input and calculation</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">&quot;&quot;</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> <span class="va">None</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>math_sign <span class="op">=</span> <span class="st">&quot;&quot;</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>sign_applied <span class="op">=</span> <span class="va">False</span>    <span class="co"># When sign button has not been clicked</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="co">######## Methods ########</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Pad String</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pad_string(input_string, desired_length <span class="op">=</span> <span class="dv">15</span>):</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>    current_length <span class="op">=</span> <span class="bu">len</span>(input_string)</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> current_length <span class="op">&gt;=</span> desired_length:</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> input_string  <span class="co"># No need to pad if it&#39;s long enough</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the number of spaces needed</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>    spaces_needed <span class="op">=</span> desired_length <span class="op">-</span> current_length</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Append the required spaces to the string</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>    padded_string <span class="op">=</span> input_string <span class="op">+</span> <span class="st">&quot; &quot;</span> <span class="op">*</span> spaces_needed</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> padded_string</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="co"># Print user input</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> lcd_print(row, value, start_col <span class="op">=</span> <span class="dv">1</span>, space_padding <span class="op">=</span> <span class="va">True</span>):</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;move to : &quot;</span> <span class="op">+</span> <span class="bu">str</span>(row))</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>    lcd.move_to(start_col,row)</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> space_padding:</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>        lcd.putstr(pad_string(<span class="bu">str</span>(value)))</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>        lcd.putstr(<span class="bu">str</span>(value))</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a><span class="co"># Get Key Pressed value</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_key():</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>    keys_detected <span class="op">=</span> []</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, row_pin <span class="kw">in</span> <span class="bu">enumerate</span>(row_pins):</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Drive the current row LOW</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>        row_pin.value(<span class="dv">0</span>)</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j, col_pin <span class="kw">in</span> <span class="bu">enumerate</span>(col_pins):</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> col_pin.value() <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>                keys_detected.append(keypad[i][j])</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Key is pressed, return the corresponding character</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> keypad[i][j]</span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Release the row</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>        row_pin.value(<span class="dv">1</span>)</span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>disk_size <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> SCAN(arr, head, direction):</span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>    seek_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>    distance , cur_track <span class="op">=</span> <span class="dv">0</span>, <span class="dv">0</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>    left <span class="op">=</span> []</span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>    right <span class="op">=</span> []</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>    seek_sequence <span class="op">=</span> []</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if(direction == &quot;left&quot;):</span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     left.append(0)</span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>    <span class="co"># elif(direction == &quot;right&quot;):</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     right.append(disk_size-1)</span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)):</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(arr[i] <span class="op">&lt;=</span> head):</span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>            left.append(arr[i])</span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(arr[i] <span class="op">&gt;</span> head):</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>            right.append(arr[i])</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>    left.sort()</span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>    right.sort()</span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a>    run <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span>(run <span class="op">!=</span><span class="dv">0</span>):</span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(direction <span class="op">==</span> <span class="st">&quot;left&quot;</span>):</span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(left)<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span> ,<span class="op">-</span><span class="dv">1</span>):</span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>                cur_track <span class="op">=</span> left[i]</span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>                seek_sequence.append(cur_track)</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>                distance <span class="op">=</span> <span class="bu">abs</span>(cur_track <span class="op">-</span> head)</span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>                seek_count <span class="op">+=</span> distance</span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a>                head <span class="op">=</span> cur_track</span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a>            direction <span class="op">=</span> <span class="st">&quot;right&quot;</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span>(direction <span class="op">==</span> <span class="st">&quot;right&quot;</span>):</span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(right)):</span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>                cur_track <span class="op">=</span> right[i]</span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a>                seek_sequence.append(cur_track)</span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a>                distance <span class="op">=</span> <span class="bu">abs</span>(cur_track <span class="op">-</span> head)</span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a>                seek_count <span class="op">+=</span> distance</span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a>                head <span class="op">=</span> cur_track</span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a>            direction <span class="op">=</span> <span class="st">&quot;left&quot;</span></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a>        run <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a>    arr.clear()</span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(seek_sequence)):</span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a>        arr.append(seek_sequence[i])</span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>( i <span class="op">!=</span> <span class="dv">0</span> <span class="kw">and</span> seek_sequence[i] <span class="op">==</span> seek_sequence[i<span class="op">-</span><span class="dv">1</span>]):</span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a>            arr.pop()</span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> []</span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a>head <span class="op">=</span> initial_pos</span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a>direction <span class="op">=</span> <span class="st">&quot;left&quot;</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a><span class="co"># Run keyboard scan</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> keyboard_scan():</span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> user_input</span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> result</span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> math_sign</span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> sign_applied</span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a>    key <span class="op">=</span> get_key()</span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> key <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> key <span class="kw">in</span> floors:</span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a>            arr.append(<span class="bu">int</span>(key))</span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a>            SCAN(arr, head, direction)</span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)):</span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(arr[i])</span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> key <span class="op">==</span> <span class="st">&quot;E&quot;</span>:</span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a>            arr.clear()</span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;Emergency Stop&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> key <span class="op">==</span> <span class="st">&quot;A&quot;</span>:</span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a>            led.on()</span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a>            sleep(<span class="dv">2</span>)</span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a>            led.off()</span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> key <span class="op">==</span> <span class="st">&quot;O&quot;</span>:</span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Fast Open Initiated&quot;</span>)</span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> key <span class="op">==</span> <span class="st">&quot;C&quot;</span>:</span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Fast Close Initiated&quot;</span>)</span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Invalid Button Pressed&quot;</span>)</span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add a small delay to debounce the keypad</span></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a>    sleep_ms(<span class="dv">100</span>)</span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> key</span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a>lcd_print(<span class="dv">2</span>, <span class="st">&quot;Floor 5 closing Door&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span>(<span class="bu">len</span>(arr) <span class="op">!=</span> <span class="dv">0</span>):</span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(arr[<span class="dv">0</span>] <span class="op">-</span> head  <span class="op">&gt;</span> <span class="dv">0</span>):</span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a>            head <span class="op">+=</span><span class="dv">1</span> </span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;Moving to floor: &quot;</span> <span class="op">+</span> <span class="bu">str</span>((head)), <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_floor_delay:</span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a>                key <span class="op">=</span> keyboard_scan()</span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(key <span class="op">==</span> <span class="st">&quot;E&quot;</span>):</span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">continue</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span>(arr[<span class="dv">0</span>] <span class="op">-</span> head <span class="op">&lt;</span> <span class="dv">0</span>):</span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a>            head <span class="op">-=</span><span class="dv">1</span></span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;Moving to floor: &quot;</span> <span class="op">+</span> <span class="bu">str</span>((head)), <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_floor_delay:</span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a>                key <span class="op">=</span> keyboard_scan()</span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(key <span class="op">==</span> <span class="st">&quot;E&quot;</span>):</span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">continue</span></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;FLoor &quot;</span><span class="op">+</span> <span class="bu">str</span>((head)) <span class="op">+</span> <span class="st">&quot; Opening Door&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a>            key <span class="op">=</span> <span class="st">&#39;-&#39;</span></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_opening_delay:</span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a>                keyboard_scan()</span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;Floor &quot;</span> <span class="op">+</span> <span class="bu">str</span>((head)) <span class="op">+</span> <span class="st">&quot; Reached&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_stay_delay:</span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a>                key <span class="op">=</span> keyboard_scan()</span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(key <span class="op">==</span> <span class="st">&quot;C&quot;</span> <span class="kw">or</span> key <span class="op">==</span> <span class="st">&quot;O&quot;</span>):</span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">break</span></span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span>(key <span class="op">!=</span> <span class="st">&quot;O&quot;</span>):</span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a>                lcd.clear()</span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a>                lcd_print(<span class="dv">2</span>, <span class="st">&quot;FLoor &quot;</span><span class="op">+</span> <span class="bu">str</span>((head)) <span class="op">+</span> <span class="st">&quot; Closing Door&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)    </span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_closing_delay:</span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a>                key <span class="op">=</span> keyboard_scan()</span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(key  <span class="op">==</span> <span class="st">&quot;O&quot;</span>):</span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">break</span></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span>(key <span class="op">!=</span> <span class="st">&quot;O&quot;</span>):</span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a>                arr.pop(<span class="dv">0</span>)</span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a>    keyboard_scan()</span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a>    sleep_ms(<span class="dv">100</span>)</span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a>    </span></code></pre></div>
<h3 id="floor-version-1">10 floor version</h3>
<div class="sourceCode" id="cb2" style="CStyle"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> time <span class="im">import</span> sleep_ms </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> machine <span class="im">import</span> Pin, SoftI2C</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> i2c_lcd <span class="im">import</span> I2cLcd </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> utime <span class="im">import</span> sleep</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">######## Definitions ########</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define LCD params</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>AddressOfLcd <span class="op">=</span> <span class="bn">0x27</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>i2c <span class="op">=</span> SoftI2C(scl<span class="op">=</span>Pin(<span class="dv">22</span>), sda<span class="op">=</span>Pin(<span class="dv">21</span>), freq<span class="op">=</span><span class="dv">400000</span>) <span class="co"># connect scl to GPIO 22, sda to GPIO 21</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>lcd <span class="op">=</span> I2cLcd(i2c, AddressOfLcd, <span class="dv">4</span>, <span class="dv">20</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>led <span class="op">=</span> Pin(<span class="dv">15</span>, Pin.OUT)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#Assumptions</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>No_of_floors <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>floor_floor_delay <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>floor_opening_delay <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>floor_closing_delay <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>floor_stay_delay <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>floors <span class="op">=</span> []</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, No_of_floors,<span class="dv">1</span>):</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    floors.append(<span class="bu">str</span>(i))</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(floors)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>initial_pos <span class="op">=</span> <span class="dv">5</span> </span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Define keypad layout</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="co"># O -- Fast Open</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="co"># C -- Fast Close</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="co"># A -- Alarm</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="co"># E -- Emergency Stop</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="co"># * &amp;&amp; / -- Undefined states</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 0,1,2,3,4,5, 6,7,8,9 -- Floor States</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>keypad <span class="op">=</span> [</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;1&#39;</span>, <span class="st">&#39;2&#39;</span>, <span class="st">&#39;3&#39;</span>, <span class="st">&#39;O&#39;</span> ],</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;4&#39;</span>, <span class="st">&#39;5&#39;</span>, <span class="st">&#39;6&#39;</span>, <span class="st">&#39;C&#39;</span> ],</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;7&#39;</span>, <span class="st">&#39;8&#39;</span>, <span class="st">&#39;9&#39;</span>, <span class="st">&#39;*&#39;</span> ],</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&#39;A&#39;</span>, <span class="st">&#39;0&#39;</span>, <span class="st">&#39;E&#39;</span>, <span class="st">&#39;/&#39;</span> ]</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the row and column pins</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>row_pins <span class="op">=</span> [Pin(<span class="dv">13</span>, Pin.OUT), Pin(<span class="dv">12</span>, Pin.OUT), Pin(<span class="dv">14</span>, Pin.OUT), Pin(<span class="dv">27</span>, Pin.OUT)]</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>col_pins <span class="op">=</span> [Pin(<span class="dv">26</span>, Pin.IN, Pin.PULL_UP), Pin(<span class="dv">25</span>, Pin.IN, Pin.PULL_UP), Pin(<span class="dv">33</span>, Pin.IN, Pin.PULL_UP), Pin(<span class="dv">32</span>, Pin.IN, Pin.PULL_UP)]</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the row pins to HIGH</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row_pin <span class="kw">in</span> row_pins:</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    row_pin.value(<span class="dv">1</span>)</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the col pins to LOW</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col_pin <span class="kw">in</span> col_pins:</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>    col_pin.value(<span class="dv">0</span>)</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Variables to store user input and calculation</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">&quot;&quot;</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> <span class="va">None</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>math_sign <span class="op">=</span> <span class="st">&quot;&quot;</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>sign_applied <span class="op">=</span> <span class="va">False</span>    <span class="co"># When sign button has not been clicked</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a><span class="co">######## Methods ########</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Pad String</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pad_string(input_string, desired_length <span class="op">=</span> <span class="dv">15</span>):</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>    current_length <span class="op">=</span> <span class="bu">len</span>(input_string)</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> current_length <span class="op">&gt;=</span> desired_length:</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> input_string  <span class="co"># No need to pad if it&#39;s long enough</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the number of spaces needed</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>    spaces_needed <span class="op">=</span> desired_length <span class="op">-</span> current_length</span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Append the required spaces to the string</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>    padded_string <span class="op">=</span> input_string <span class="op">+</span> <span class="st">&quot; &quot;</span> <span class="op">*</span> spaces_needed</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> padded_string</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a><span class="co"># Print user input</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> lcd_print(row, value, start_col <span class="op">=</span> <span class="dv">1</span>, space_padding <span class="op">=</span> <span class="va">True</span>):</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;move to : &quot;</span> <span class="op">+</span> <span class="bu">str</span>(row))</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>    lcd.move_to(start_col,row)</span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> space_padding:</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>        lcd.putstr(pad_string(<span class="bu">str</span>(value)))</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>        lcd.putstr(<span class="bu">str</span>(value))</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a><span class="co"># Get Key Pressed value</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_key():</span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>    keys_detected <span class="op">=</span> []</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, row_pin <span class="kw">in</span> <span class="bu">enumerate</span>(row_pins):</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Drive the current row LOW</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>        row_pin.value(<span class="dv">0</span>)</span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j, col_pin <span class="kw">in</span> <span class="bu">enumerate</span>(col_pins):</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> col_pin.value() <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>                keys_detected.append(keypad[i][j])</span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Key is pressed, return the corresponding character</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> keypad[i][j]</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Release the row</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>        row_pin.value(<span class="dv">1</span>)</span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>disk_size <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> SCAN(arr, head, direction):</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>    seek_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>    distance , cur_track <span class="op">=</span> <span class="dv">0</span>, <span class="dv">0</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>    left <span class="op">=</span> []</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>    right <span class="op">=</span> []</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>    seek_sequence <span class="op">=</span> []</span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if(direction == &quot;left&quot;):</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     left.append(0)</span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>    <span class="co"># elif(direction == &quot;right&quot;):</span></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     right.append(disk_size-1)</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)):</span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(arr[i] <span class="op">&lt;=</span> head):</span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a>            left.append(arr[i])</span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(arr[i] <span class="op">&gt;</span> head):</span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>            right.append(arr[i])</span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>    left.sort()</span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>    right.sort()</span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>    run <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span>(run <span class="op">!=</span><span class="dv">0</span>):</span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(direction <span class="op">==</span> <span class="st">&quot;left&quot;</span>):</span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(left)<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span> ,<span class="op">-</span><span class="dv">1</span>):</span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>                cur_track <span class="op">=</span> left[i]</span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>                seek_sequence.append(cur_track)</span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a>                distance <span class="op">=</span> <span class="bu">abs</span>(cur_track <span class="op">-</span> head)</span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>                seek_count <span class="op">+=</span> distance</span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>                head <span class="op">=</span> cur_track</span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a>            direction <span class="op">=</span> <span class="st">&quot;right&quot;</span></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span>(direction <span class="op">==</span> <span class="st">&quot;right&quot;</span>):</span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(right)):</span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>                cur_track <span class="op">=</span> right[i]</span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a>                seek_sequence.append(cur_track)</span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a>                distance <span class="op">=</span> <span class="bu">abs</span>(cur_track <span class="op">-</span> head)</span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a>                seek_count <span class="op">+=</span> distance</span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a>                head <span class="op">=</span> cur_track</span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a>            direction <span class="op">=</span> <span class="st">&quot;left&quot;</span></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a>        run <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a>    arr.clear()</span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(seek_sequence)):</span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a>        arr.append(seek_sequence[i])</span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>( i <span class="op">!=</span> <span class="dv">0</span> <span class="kw">and</span> seek_sequence[i] <span class="op">==</span> seek_sequence[i<span class="op">-</span><span class="dv">1</span>]):</span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a>            arr.pop()</span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> []</span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a>head <span class="op">=</span> initial_pos</span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a>direction <span class="op">=</span> <span class="st">&quot;left&quot;</span></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a><span class="co"># Run keyboard scan</span></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> keyboard_scan():</span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> user_input</span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> result</span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> math_sign</span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> sign_applied</span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a>    key <span class="op">=</span> get_key()</span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> key <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> key <span class="kw">in</span> floors:</span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a>            arr.append(<span class="bu">int</span>(key))</span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a>            SCAN(arr, head, direction)</span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)):</span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(arr[i])</span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> key <span class="op">==</span> <span class="st">&quot;E&quot;</span>:</span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a>            arr.clear()</span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;Emergency Stop&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> key <span class="op">==</span> <span class="st">&quot;A&quot;</span>:</span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a>            led.on()</span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a>            sleep(<span class="dv">2</span>)</span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a>            led.off()</span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> key <span class="op">==</span> <span class="st">&quot;O&quot;</span>:</span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Fast Open Initiated&quot;</span>)</span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> key <span class="op">==</span> <span class="st">&quot;C&quot;</span>:</span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Fast Close Initiated&quot;</span>)</span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb2-183"><a href="#cb2-183" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Invalid Button Pressed&quot;</span>)</span>
<span id="cb2-184"><a href="#cb2-184" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add a small delay to debounce the keypad</span></span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true" tabindex="-1"></a>    sleep_ms(<span class="dv">100</span>)</span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> key</span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-188"><a href="#cb2-188" aria-hidden="true" tabindex="-1"></a>lcd_print(<span class="dv">2</span>, <span class="st">&quot;Floor 5 closing Door&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb2-189"><a href="#cb2-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-190"><a href="#cb2-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-191"><a href="#cb2-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-192"><a href="#cb2-192" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span>(<span class="bu">len</span>(arr) <span class="op">!=</span> <span class="dv">0</span>):</span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(arr[<span class="dv">0</span>] <span class="op">-</span> head  <span class="op">&gt;</span> <span class="dv">0</span>):</span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a>            head <span class="op">+=</span><span class="dv">1</span> </span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;Moving to floor: &quot;</span> <span class="op">+</span> <span class="bu">str</span>((head)), <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_floor_delay:</span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a>                key <span class="op">=</span> keyboard_scan()</span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(key <span class="op">==</span> <span class="st">&quot;E&quot;</span>):</span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">continue</span></span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span>(arr[<span class="dv">0</span>] <span class="op">-</span> head <span class="op">&lt;</span> <span class="dv">0</span>):</span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a>            head <span class="op">-=</span><span class="dv">1</span></span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;Moving to floor: &quot;</span> <span class="op">+</span> <span class="bu">str</span>((head)), <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb2-210"><a href="#cb2-210" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb2-211"><a href="#cb2-211" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_floor_delay:</span>
<span id="cb2-212"><a href="#cb2-212" aria-hidden="true" tabindex="-1"></a>                key <span class="op">=</span> keyboard_scan()</span>
<span id="cb2-213"><a href="#cb2-213" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(key <span class="op">==</span> <span class="st">&quot;E&quot;</span>):</span>
<span id="cb2-214"><a href="#cb2-214" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">continue</span></span>
<span id="cb2-215"><a href="#cb2-215" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb2-216"><a href="#cb2-216" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb2-217"><a href="#cb2-217" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb2-218"><a href="#cb2-218" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;FLoor &quot;</span><span class="op">+</span> <span class="bu">str</span>((head)) <span class="op">+</span> <span class="st">&quot; Opening Door&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb2-219"><a href="#cb2-219" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb2-220"><a href="#cb2-220" aria-hidden="true" tabindex="-1"></a>            key <span class="op">=</span> <span class="st">&#39;-&#39;</span></span>
<span id="cb2-221"><a href="#cb2-221" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_opening_delay:</span>
<span id="cb2-222"><a href="#cb2-222" aria-hidden="true" tabindex="-1"></a>                keyboard_scan()</span>
<span id="cb2-223"><a href="#cb2-223" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb2-224"><a href="#cb2-224" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb2-225"><a href="#cb2-225" aria-hidden="true" tabindex="-1"></a>            lcd.clear()</span>
<span id="cb2-226"><a href="#cb2-226" aria-hidden="true" tabindex="-1"></a>            lcd_print(<span class="dv">2</span>, <span class="st">&quot;Floor &quot;</span> <span class="op">+</span> <span class="bu">str</span>((head)) <span class="op">+</span> <span class="st">&quot; Reached&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)</span>
<span id="cb2-227"><a href="#cb2-227" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_stay_delay:</span>
<span id="cb2-228"><a href="#cb2-228" aria-hidden="true" tabindex="-1"></a>                key <span class="op">=</span> keyboard_scan()</span>
<span id="cb2-229"><a href="#cb2-229" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(key <span class="op">==</span> <span class="st">&quot;C&quot;</span> <span class="kw">or</span> key <span class="op">==</span> <span class="st">&quot;O&quot;</span>):</span>
<span id="cb2-230"><a href="#cb2-230" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">break</span></span>
<span id="cb2-231"><a href="#cb2-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-232"><a href="#cb2-232" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb2-233"><a href="#cb2-233" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span>(key <span class="op">!=</span> <span class="st">&quot;O&quot;</span>):</span>
<span id="cb2-234"><a href="#cb2-234" aria-hidden="true" tabindex="-1"></a>                lcd.clear()</span>
<span id="cb2-235"><a href="#cb2-235" aria-hidden="true" tabindex="-1"></a>                lcd_print(<span class="dv">2</span>, <span class="st">&quot;FLoor &quot;</span><span class="op">+</span> <span class="bu">str</span>((head)) <span class="op">+</span> <span class="st">&quot; Closing Door&quot;</span>, <span class="dv">0</span>, <span class="va">False</span>)    </span>
<span id="cb2-236"><a href="#cb2-236" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> time.time()</span>
<span id="cb2-237"><a href="#cb2-237" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> time.time() <span class="op">-</span> start_time <span class="op">&lt;</span>floor_closing_delay:</span>
<span id="cb2-238"><a href="#cb2-238" aria-hidden="true" tabindex="-1"></a>                key <span class="op">=</span> keyboard_scan()</span>
<span id="cb2-239"><a href="#cb2-239" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(key  <span class="op">==</span> <span class="st">&quot;O&quot;</span>):</span>
<span id="cb2-240"><a href="#cb2-240" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">break</span></span>
<span id="cb2-241"><a href="#cb2-241" aria-hidden="true" tabindex="-1"></a>                sleep_ms(<span class="dv">100</span>)</span>
<span id="cb2-242"><a href="#cb2-242" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span>(key <span class="op">!=</span> <span class="st">&quot;O&quot;</span>):</span>
<span id="cb2-243"><a href="#cb2-243" aria-hidden="true" tabindex="-1"></a>                arr.pop(<span class="dv">0</span>)</span>
<span id="cb2-244"><a href="#cb2-244" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb2-245"><a href="#cb2-245" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb2-246"><a href="#cb2-246" aria-hidden="true" tabindex="-1"></a>    keyboard_scan()</span>
<span id="cb2-247"><a href="#cb2-247" aria-hidden="true" tabindex="-1"></a>    sleep_ms(<span class="dv">100</span>)</span>
<span id="cb2-248"><a href="#cb2-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-249"><a href="#cb2-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-250"><a href="#cb2-250" aria-hidden="true" tabindex="-1"></a>    </span></code></pre></div>
<h2 id="circuit">Circuit</h2>
<figure>
<img src="img/circuit.png" style="width:50.0%" />
<figcaption>Full circuit</figcaption>
</figure>
<h2 id="screenshots-during-operation">Screenshots during operation</h2>
<figure>
<img src="img/1_move.png" style="width:50.0%" />
<figcaption>Moving to floor 1</figcaption>
</figure>
<figure>
<img src="img/2_move.png" style="width:50.0%" />
<figcaption>Moving to floor 2</figcaption>
</figure>
<figure>
<img src="img/3_move.png" style="width:50.0%" />
<figcaption>Moving to floor 3</figcaption>
</figure>
<figure>
<p><img src="img/3_open.png" style="width:45.0%" alt="image" /> <img
src="img/3_close.png" style="width:45.0%" alt="image" /></p>
<figcaption>Opening and closing lift doors</figcaption>
</figure>
<figure>
<p><img src="img/fast_open.png" style="width:45.0%" alt="image" /> <img
src="img/fast_open_close_new.png" style="width:45.0%" alt="image" /></p>
<figcaption>Fast open (key ’A’) and Fast close (key ’B’)</figcaption>
</figure>
<figure>
<img src="img/call.png" style="width:45.0%" />
<figcaption>Emergency call and the glowing LED (key ’*’)</figcaption>
</figure>
<figure>
<img src="img/stop.png" style="width:45.0%" />
<figcaption>Emergency stop (key ’#’)</figcaption>
</figure>
<h1 id="possible-improvements">Possible improvements</h1>
<ol>
<li><p><strong>Deselect Option</strong> The lift could have a deselect
option such that if a person selects the wrong button, he has the option
to deselect it and select the correct one.<br />
In a case if the lift has started moving, and then the button is
deselected, the lift will move in the same direction, stop on the
nearest floor and then continue moving according to the remaining
selected buttons.</p></li>
<li><p><strong>Outer lift control panel</strong> The lift setup may
include an external control panel for calling the lift.</p></li>
<li><p><strong>Non-Stop setting</strong> The lift control panel may have
a non-stop setting for a case in which the lift is needed to operate
from the ground floor directly to the third and subsequent floor (i.e.
it doesn’t stop in between the ground floor to the third floor)</p></li>
</ol>
<h1 id="conclusion">Conclusion</h1>
<p>The Lift Controller Project is all about creating a system that makes
elevators in buildings work smoothly and safely. We’ve put together
different parts like the controller, keypad, lights, and screen to make
it easy for people to use and to alert for emergencies.</p>
<p>The system follows a plan for how long things take, like moving
between floors or opening and closing doors. This helps everything run
smoothly and keeps people moving comfortably. Also, we’ve added features
like quick door buttons and an emergency call button to make it even
better.</p>
<p>To summarize, while our current lift controller meets basic
requirements, further enhancements are necessary to optimize
functionality, efficiency, and safety. These improvements will create a
more sophisticated and reliable lift system that meets modern user
expectations.</p>
<h1 class="unnumbered" id="section"></h1>
<div class="appendix">
<h1 id="appendix-1-document-statistics">Appendix 1: Document
Statistics</h1>
<ul>
<li><p>Word Count: 4430</p></li>
<li><p>Number of Sentences: 380</p></li>
<li><p>Number of Characters: 24963</p></li>
</ul>
<h1 id="appendix-2-readability-indices">Appendix 2: Readability
Indices</h1>
<ul>
<li><p><strong>Readability Index<a href="#fn1" class="footnote-ref"
id="fnref1" role="doc-noteref"><sup>1</sup></a>:</strong> 1.4</p>
<p><br />
This means that this text can be understood by children who can read
books with chapters.</p></li>
<li><p><strong>Gunning-Fog Index<a href="#fn2" class="footnote-ref"
id="fnref2" role="doc-noteref"><sup>2</sup></a>:</strong> 7.4</p>
<p><br />
This means that the text can be easily understood by someone who has
passed grade 8, US education standards.</p></li>
<li><p><strong>Flesch Reading Ease<a href="#fn3" class="footnote-ref"
id="fnref3" role="doc-noteref"><sup>3</sup></a>:</strong> 87<br />
This means that this text can be understood by 12-13 year olds.</p></li>
<li><p><strong>Coleman Liau Index<a href="#fn4" class="footnote-ref"
id="fnref4" role="doc-noteref"><sup>4</sup></a>:</strong> 5.6</p>
<p><br />
This means that the text can be easily understood by someone who has
passed grade 10, US education standards.</p></li>
</ul>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>The readability index indicates the approximate reading
grade level of a text based on the US education system. The formula
takes into account characters in a given word and the words in a given
sentence. It varies from 0 - 16+.<a href="#fnref1" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>On a scale from 0 -20, the Gunning-Fog Index is a
weighted average of the number of words per sentence and the number of
long words per word. This can be understood as the text can be
understood by someone who left full-time education at a later age than
the index. Hence a lower Gunning-Fog index is easier to read.<a
href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>The Flesch Reading Ease indicates the approximate
reading grade level of a text. The formula takes into account sentence
length and word length. It is based on a 0-100 scale. A high score means
that the text is easier to read.<a href="#fnref3" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>On a scale of 0 - 17+, the Coleman Liau Index relies on
characters and calculates the index based on the number of characters in
a word and the number of words in a sentence. The score of the text
indicates the US school level a person needs to understand the text.<a
href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
